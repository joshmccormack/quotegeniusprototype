<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuoteGenius - Complete Journey Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f2f5;
            overflow-x: hidden;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 20px auto;
            position: relative;
        }
        
        .browser-frame {
            background: #e2e8f0;
            padding: 8px;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .browser-header {
            background: white;
            padding: 12px 16px;
            border-radius: 6px 6px 0 0;
            display: flex;
            align-items: center;
        }
        
        .browser-dots {
            display: flex;
            gap: 8px;
            margin-right: 16px;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .dot.red { background: #ff5f57; }
        .dot.yellow { background: #ffbd2e; }
        .dot.green { background: #28ca42; }
        
        .url-bar {
            background: #f1f3f4;
            padding: 8px 16px;
            border-radius: 20px;
            flex: 1;
            color: #5f6368;
            font-size: 14px;
        }
        
        .screen {
            background: white;
            min-height: 700px;
            border-radius: 0 0 8px 8px;
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .screen-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 12px 16px;
            border-radius: 6px;
            font-size: 14px;
            z-index: 100;
            animation: slideDown 0.5s ease-out;
        }
        
        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .progress-indicator {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 100;
        }
        
        .progress-dots {
            display: flex;
            gap: 8px;
            margin-top: 5px;
            justify-content: center;
        }
        
        .progress-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
        }
        
        .progress-dot.active {
            background: white;
        }
        
        /* Customer Website Styles */
        .customer-site {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 40px;
        }
        
        .customer-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .customer-logo {
            font-size: 28px;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .customer-tagline {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .quote-form-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .form-title {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        /* Loading Screen */
        .loading-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 80px 40px;
            text-align: center;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 30px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-steps {
            max-width: 400px;
        }
        
        .loading-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            opacity: 0.3;
            transition: opacity 0.5s;
        }
        
        .loading-step.active {
            opacity: 1;
        }
        
        .loading-step.complete {
            opacity: 1;
            color: #27ae60;
        }
        
        .step-icon {
            width: 20px;
            margin-right: 15px;
        }
        
        /* Quote Result */
        .quote-result {
            padding: 50px 40px;
            text-align: center;
        }
        
        .quote-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .quote-amount {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .quote-details {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 12px;
            text-align: left;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .detail-row:last-child {
            border-bottom: none;
            font-weight: bold;
            color: #27ae60;
        }
        
        /* Dashboard Styles */
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dashboard-logo {
            font-size: 24px;
            font-weight: bold;
        }
        
        .dashboard-stats {
            display: flex;
            gap: 30px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .dashboard-content {
            padding: 30px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .live-indicator {
            background: #48bb78;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .live-dot {
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .quotes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .quote-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.2s;
            animation: slideInUp 0.6s ease-out;
        }
        
        .quote-card.new-arrival {
            border-left: 4px solid #4299e1;
            animation: newQuoteGlow 2s ease-out;
        }
        
        .quote-card.high-confidence {
            border-left: 4px solid #48bb78;
        }
        
        .quote-card.low-confidence {
            border-left: 4px solid #ed8936;
        }
        
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes newQuoteGlow {
            0% { background: #ebf8ff; }
            100% { background: white; }
        }
        
        .quote-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .quote-info h3 {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .quote-info p {
            font-size: 13px;
            color: #718096;
        }
        
        .quote-badges {
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: flex-end;
        }
        
        .confidence-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .confidence-high { background: #c6f6d5; color: #276749; }
        .confidence-low { background: #fed7d7; color: #c53030; }
        
        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .status-sent { background: #bee3f8; color: #2a69ac; }
        .status-pending { background: #ffeaa7; color: #d68910; }
        
        .quote-amount-display {
            font-size: 18px;
            font-weight: 700;
            color: #2d3748;
            margin: 10px 0;
        }
        
        .customer-info {
            background: #f7fafc;
            padding: 12px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 12px;
            color: #4a5568;
        }
        
        .quote-actions {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }
        
        .btn-small {
            padding: 6px 16px;
            border-radius: 6px;
            border: none;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
        }
        
        .btn-primary { background: #4299e1; color: white; }
        .btn-secondary { background: #e2e8f0; color: #4a5568; }
        
        .new-quote-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4299e1;
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            z-index: 1000;
            display: none;
            animation: slideInRight 0.5s ease-out;
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .play-controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            display: flex;
            gap: 15px;
            align-items: center;
            z-index: 1000;
        }
        
        .play-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .typing-effect {
            overflow: hidden;
            border-right: 2px solid #3498db;
            white-space: nowrap;
            animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #3498db; }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="browser-frame">
            <div class="browser-header">
                <div class="browser-dots">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                </div>
                <div class="url-bar" id="urlBar">https://sunshinepoolcleaning.com/get-quote</div>
            </div>
            
            <!-- Screen 1: Customer Website -->
            <div class="screen active" id="customerScreen">
                <div class="screen-overlay">👤 Customer View: Requesting a Quote</div>
                <div class="customer-site">
                    <div class="customer-header">
                        <div class="customer-logo">🏊 Sunshine Pool Cleaning</div>
                        <div class="customer-tagline">Professional Pool Maintenance Services</div>
                    </div>
                    
                    <div class="quote-form-container">
                        <div class="form-title">Get Your Instant Quote</div>
                        <form id="quoteForm">
                            <div class="form-group">
                                <label>Pool Size</label>
                                <select id="poolSize">
                                    <option value="">Select pool size...</option>
                                    <option value="small">Small (up to 15' x 30')</option>
                                    <option value="medium">Medium (15' x 30' to 20' x 40')</option>
                                    <option value="large">Large (over 20' x 40')</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Cleaning Frequency</label>
                                <select id="frequency">
                                    <option value="">How often?</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="biweekly">Bi-weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Pool Shape</label>
                                <select id="poolShape">
                                    <option value="regular">Regular (Rectangle/Oval)</option>
                                    <option value="irregular">Irregular (Custom/Kidney/L-shaped)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Your Email</label>
                                <input type="email" id="customerEmail" placeholder="your@email.com">
                            </div>
                            
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="customerPhone" placeholder="(555) 123-4567">
                            </div>
                            
                            <button type="button" class="btn" onclick="startQuoteProcess()">Get My Instant Quote</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Screen 2: Loading/Processing -->
            <div class="screen" id="loadingScreen">
                <div class="screen-overlay">🤖 AI Processing: Generating Quote</div>
                <div class="loading-screen">
                    <div class="spinner"></div>
                    <h2>Generating Your Professional Quote</h2>
                    <div class="loading-steps">
                        <div class="loading-step" id="step1">
                            <span class="step-icon">📊</span>
                            <span>Analyzing pool requirements...</span>
                        </div>
                        <div class="loading-step" id="step2">
                            <span class="step-icon">💰</span>
                            <span>Calculating pricing...</span>
                        </div>
                        <div class="loading-step" id="step3">
                            <span class="step-icon">📄</span>
                            <span>Creating professional proposal...</span>
                        </div>
                        <div class="loading-step" id="step4">
                            <span class="step-icon">✅</span>
                            <span>Quote ready!</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Screen 3: Quote Result -->
            <div class="screen" id="resultScreen">
                <div class="screen-overlay">📋 Customer View: Professional Quote Delivered</div>
                <div class="quote-result">
                    <div class="quote-success">
                        <h2>Your Professional Quote</h2>
                        <div class="quote-amount" id="finalAmount">$165/month</div>
                        <p>Weekly pool cleaning service</p>
                    </div>
                    
                    <div class="quote-details">
                        <h3 style="margin-bottom: 20px;">Service Details</h3>
                        <div class="detail-row">
                            <span>Pool Size:</span>
                            <span>Large (over 20' x 40')</span>
                        </div>
                        <div class="detail-row">
                            <span>Service Frequency:</span>
                            <span>Weekly</span>
                        </div>
                        <div class="detail-row">
                            <span>Includes:</span>
                            <span>Cleaning, chemical balancing, equipment check</span>
                        </div>
                        <div class="detail-row">
                            <span>Total Monthly Cost:</span>
                            <span>$165/month</span>
                        </div>
                    </div>
                    
                    <p style="margin-top: 30px; color: #666;">
                        <strong>Next Steps:</strong> We'll contact you within 24 hours to schedule your first service. 
                        This quote is valid for 30 days.
                    </p>
                </div>
            </div>
            
            <!-- Screen 4: Business Dashboard -->
            <div class="screen" id="dashboardScreen">
                <div class="screen-overlay">🏢 Business Owner View: Quote Management Dashboard</div>
                <div class="dashboard-header">
                    <div>
                        <div class="dashboard-logo">QuoteGenius</div>
                        <div style="font-size: 14px; opacity: 0.9;">Sunshine Pool Cleaning</div>
                    </div>
                    <div class="dashboard-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="todayCount">9</div>
                            <div class="stat-label">Today</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">48</div>
                            <div class="stat-label">This Week</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">$13,275</div>
                            <div class="stat-label">Pipeline</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <div class="section-title">
                        Recent Quote Requests
                        <div class="live-indicator">
                            <div class="live-dot"></div>
                            LIVE
                        </div>
                    </div>
                    
                    <div class="quotes-grid" id="quotesGrid">
                        <!-- Quotes will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Screen 5: Quote Approval -->
            <div class="screen" id="approvalScreen">
                <div class="screen-overlay">🔍 Business Owner: Reviewing Low-Confidence Quote</div>
                <div class="dashboard-content" style="padding-top: 50px;">
                    <h2 style="margin-bottom: 30px;">Quote Review Required</h2>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <div>
                            <h3 style="margin-bottom: 20px;">Customer Request</h3>
                            <div class="quote-details">
                                <div class="detail-row">
                                    <span>Customer:</span>
                                    <span>David Rodriguez</span>
                                </div>
                                <div class="detail-row">
                                    <span>Pool Type:</span>
                                    <span>Custom kidney-shaped pool</span>
                                </div>
                                <div class="detail-row">
                                    <span>Service:</span>
                                    <span>Weekly cleaning + equipment</span>
                                </div>
                                <div class="detail-row">
                                    <span>AI Confidence:</span>
                                    <span style="color: #ed8936;">72% - Needs Review</span>
                                </div>
                                <div class="detail-row">
                                    <span>Reason:</span>
                                    <span>Irregular pool shape detected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 style="margin-bottom: 20px;">AI Suggested Quote</h3>
                            <div class="quote-details">
                                <div class="detail-row">
                                    <span>Base Service:</span>
                                    <span>$180/month</span>
                                </div>
                                <div class="detail-row">
                                    <span>Irregular Pool Adjustment:</span>
                                    <span>+$35/month</span>
                                </div>
                                <div class="detail-row">
                                    <span>Equipment Check:</span>
                                    <span>+$25/month</span>
                                </div>
                                <div class="detail-row">
                                    <span><strong>Total Quote:</strong></span>
                                    <span><strong>$240/month</strong></span>
                                </div>
                            </div>
                            
                            <div style="margin-top: 30px;">
                                <button class="btn" onclick="approveQuote()" style="margin-bottom: 10px;">✅ Approve & Send Quote</button>
                                <button class="btn-secondary btn" style="width: 100%; margin-bottom: 10px;">✏️ Edit Quote Amount</button>
                                <button class="btn-secondary btn" style="width: 100%;">📞 Schedule Site Visit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="progress-indicator">
            <div id="progressText">Step 1 of 5: Customer requests quote</div>
            <div class="progress-dots">
                <div class="progress-dot active" id="dot1"></div>
                <div class="progress-dot" id="dot2"></div>
                <div class="progress-dot" id="dot3"></div>
                <div class="progress-dot" id="dot4"></div>
                <div class="progress-dot" id="dot5"></div>
            </div>
        </div>
        
        <div class="play-controls">
            <button class="play-btn" onclick="toggleDemo()" id="playBtn">⏸️ Pause</button>
            <button class="play-btn" onclick="resetDemo()">🔄 Restart</button>
            <span id="playStatus">Auto-playing demo...</span>
        </div>
    </div>
    
    <div class="new-quote-notification" id="notification">
        <strong>New Quote Request Received!</strong><br>
        Large pool cleaning - Auto-processing...
    </div>

    <script>
        // Demo state
        let currentStep = 1;
        let isPlaying = true;
        let demoTimeout;
        
        // Demo configuration
        const steps = [
            { screen: 'customerScreen', url: 'https://sunshinepoolcleaning.com/get-quote', text: 'Step 1 of 5: Customer requests quote' },
            { screen: 'loadingScreen', url: 'https://sunshinepoolcleaning.com/processing', text: 'Step 2 of 5: AI generates quote' },
            { screen: 'resultScreen', url: 'https://sunshinepoolcleaning.com/quote-result', text: 'Step 3 of 5: Customer receives quote' },
            { screen: 'dashboardScreen', url: 'https://app.quotegen.com/dashboard', text: 'Step 4 of 5: Business dashboard updates' },
            { screen: 'approvalScreen', url: 'https://app.quotegen.com/review', text: 'Step 5 of 5: Review process for complex quotes' }
        ];
        
        // Sample quote data
        let quotes = [
            {
                service: "Large Pool - Weekly Cleaning",
                details: "40' x 20' rectangular pool • Weekly service with chemicals",
                amount: "$165/month",
                confidence: "high",
                status: "sent",
                customer: "Jennifer Park",
                email: "j.park@email.com",
                phone: "(555) 234-5678",
                timestamp: "Just sent",
                isNew: true
            },
            {
                service: "Medium Pool - Bi-weekly",
                details: "25' x 15' oval pool • Bi-weekly cleaning only",
                amount: "$95/month",
                confidence: "high",
                status: "sent",
                customer: "Sarah Johnson",
                email: "sarah.j@gmail.com",
                phone: "(555) 345-6789",
                timestamp: "12 min ago"
            },
            {
                service: "Custom Kidney Pool",
                details: "Irregular kidney-shaped pool • Weekly + equipment check",
                amount: "$240/month",
                confidence: "low",
                status: "pending",
                customer: "David Rodriguez",
                email: "d.rodriguez@email.com",
                phone: "(555) 456-7890",
                timestamp: "18 min ago"
            }
        ];
        
        // Utility functions
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            }
        }
        
        function updateProgress(step) {
            currentStep = step;
            const stepData = steps[step - 1];
            
            // Update URL bar
            const urlBar = document.getElementById('urlBar');
            if (urlBar && stepData) {
                urlBar.textContent = stepData.url;
            }
            
            // Update progress text
            const progressText = document.getElementById('progressText');
            if (progressText && stepData) {
                progressText.textContent = stepData.text;
            }
            
            // Update progress dots
            document.querySelectorAll('.progress-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index < step);
            });
            
            // Show screen
            if (stepData) {
                showScreen(stepData.screen);
            }
        }
        
        function startLoadingAnimation() {
            const steps = ['step1', 'step2', 'step3', 'step4'];
            let currentLoadingStep = 0;
            
            const loadingInterval = setInterval(() => {
                if (currentLoadingStep < steps.length) {
                    const stepElement = document.getElementById(steps[currentLoadingStep]);
                    if (stepElement) {
                        stepElement.classList.add('active');
                        
                        setTimeout(() => {
                            stepElement.classList.remove('active');
                            stepElement.classList.add('complete');
                        }, 800);
                    }
                    
                    currentLoadingStep++;
                } else {
                    clearInterval(loadingInterval);
                    setTimeout(() => {
                        updateProgress(3);
                        scheduleNextStep();
                    }, 1000);
                }
            }, 1000);
        }
        
        function renderQuotes() {
            const grid = document.getElementById('quotesGrid');
            if (!grid) return;
            
            grid.innerHTML = quotes.map(quote => `
                <div class="quote-card ${quote.confidence}-confidence ${quote.isNew ? 'new-arrival' : ''}">
                    <div class="quote-header">
                        <div class="quote-info">
                            <h3>${quote.service}</h3>
                            <p>${quote.details}</p>
                        </div>
                        <div class="quote-badges">
                            <div class="confidence-badge confidence-${quote.confidence}">
                                ${quote.confidence === 'high' ? '94%' : '72%'} Confidence
                            </div>
                            <div class="status-badge status-${quote.status}">
                                ${quote.status === 'sent' ? '✓ Auto-Sent' : '⏳ Needs Review'}
                            </div>
                        </div>
                    </div>
                    <div class="quote-amount-display">${quote.amount}</div>
                    <div class="customer-info">
                        <div><strong>${quote.customer}</strong></div>
                        <div>📧 ${quote.email}</div>
                        <div>📞 ${quote.phone}</div>
                        <div>⏰ ${quote.timestamp}</div>
                    </div>
                    ${quote.status === 'pending' ? `
                        <div class="quote-actions">
                            <button class="btn-small btn-primary" onclick="approveFromDashboard()">Approve & Send</button>
                            <button class="btn-small btn-secondary">Edit Quote</button>
                            <button class="btn-small btn-secondary">View Details</button>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }
        
        function scheduleNextStep() {
            if (!isPlaying) return;
            
            clearTimeout(demoTimeout);
            demoTimeout = setTimeout(() => {
                if (currentStep < 5) {
                    if (currentStep === 3) {
                        // Show notification for new quote
                        const notification = document.getElementById('notification');
                        if (notification) {
                            notification.style.display = 'block';
                            setTimeout(() => {
                                notification.style.display = 'none';
                            }, 3000);
                        }
                        
                        updateProgress(4);
                        renderQuotes();
                        scheduleNextStep();
                    } else if (currentStep === 4) {
                        // Automatically click on review quote
                        setTimeout(() => {
                            approveFromDashboard();
                        }, 3000);
                    }
                } else {
                    // Demo complete, restart
                    setTimeout(() => {
                        if (isPlaying) resetDemo();
                    }, 5000);
                }
            }, currentStep === 3 ? 4000 : 3000);
        }
        
        // Main demo functions
        function startQuoteProcess() {
            try {
                // Simulate form filling
                const poolSize = document.getElementById('poolSize');
                const frequency = document.getElementById('frequency');
                const poolShape = document.getElementById('poolShape');
                const customerEmail = document.getElementById('customerEmail');
                const customerPhone = document.getElementById('customerPhone');
                
                if (poolSize) poolSize.value = 'large';
                if (frequency) frequency.value = 'weekly';
                if (poolShape) poolShape.value = 'regular';
                if (customerEmail) customerEmail.value = 'jennifer.park@email.com';
                if (customerPhone) customerPhone.value = '(555) 234-5678';
                
                // Move to loading screen
                setTimeout(() => {
                    updateProgress(2);
                    startLoadingAnimation();
                }, 1000);
            } catch (error) {
                console.error('Error in startQuoteProcess:', error);
            }
        }
        
        function toggleDemo() {
            isPlaying = !isPlaying;
            const playBtn = document.getElementById('playBtn');
            const playStatus = document.getElementById('playStatus');
            
            if (playBtn && playStatus) {
                if (isPlaying) {
                    playBtn.textContent = '⏸️ Pause';
                    playStatus.textContent = 'Auto-playing demo...';
                    scheduleNextStep();
                } else {
                    playBtn.textContent = '▶️ Play';
                    playStatus.textContent = 'Demo paused';
                    clearTimeout(demoTimeout);
                }
            }
        }
        
        function resetDemo() {
            try {
                clearTimeout(demoTimeout);
                
                // Reset form
                const quoteForm = document.getElementById('quoteForm');
                if (quoteForm) {
                    quoteForm.reset();
                }
                
                // Reset loading steps
                document.querySelectorAll('.loading-step').forEach(step => {
                    step.classList.remove('active', 'complete');
                });
                
                // Reset quotes data
                quotes[0].isNew = true;
                quotes[2].status = 'pending';
                quotes[2].confidence = 'low';
                quotes[2].timestamp = '18 min ago';
                
                // Reset stats
                const todayCount = document.getElementById('todayCount');
                if (todayCount) {
                    todayCount.textContent = '9';
                }
                
                // Start from beginning
                updateProgress(1);
                
                if (isPlaying) {
                    setTimeout(() => {
                        startQuoteProcess();
                    }, 2000);
                }
            } catch (error) {
                console.error('Error in resetDemo:', error);
            }
        }
        
        function approveFromDashboard() {
            try {
                updateProgress(5);
                scheduleNextStep();
            } catch (error) {
                console.error('Error in approveFromDashboard:', error);
            }
        }
        
        function approveQuote() {
            try {
                // Show notification
                const notification = document.getElementById('notification');
                if (notification) {
                    notification.innerHTML = '<strong>Quote Approved!</strong><br>$240/month quote sent to David Rodriguez';
                    notification.style.display = 'block';
                    notification.style.background = '#27ae60';
                    
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 3000);
                }
                
                // Update the quote in dashboard
                const targetQuote = quotes.find(q => q.customer === 'David Rodriguez');
                if (targetQuote) {
                    targetQuote.status = 'sent';
                    targetQuote.confidence = 'high';
                    targetQuote.timestamp = 'Just sent';
                }
                
                // Go back to dashboard
                setTimeout(() => {
                    updateProgress(4);
                    renderQuotes();
                    // Update stats
                    const todayCount = document.getElementById('todayCount');
                    if (todayCount) {
                        todayCount.textContent = '10';
                    }
                    
                    setTimeout(() => {
                        if (isPlaying) resetDemo();
                    }, 3000);
                }, 2000);
            } catch (error) {
                console.error('Error in approveQuote:', error);
            }
        }
        
        // Initialize demo when page loads
        document.addEventListener('DOMContentLoaded', function() {
            try {
                updateProgress(1);
                
                // Auto-start demo after initial delay
                setTimeout(() => {
                    if (isPlaying) {
                        startQuoteProcess();
                    }
                }, 3000);
                
                // Auto-restart demo every 45 seconds if playing and on first step
                setInterval(() => {
                    if (isPlaying && currentStep === 1) {
                        startQuoteProcess();
                    }
                }, 45000);
            } catch (error) {
                console.error('Error initializing demo:', error);
            }
        });
        
        // Make functions available globally for onclick handlers
        window.startQuoteProcess = startQuoteProcess;
        window.toggleDemo = toggleDemo;
        window.resetDemo = resetDemo;
        window.approveFromDashboard = approveFromDashboard;
        window.approveQuote = approveQuote;
    </script>
</body>
</html>
            